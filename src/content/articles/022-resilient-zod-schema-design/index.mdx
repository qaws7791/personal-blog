---
title: "resilient zod schema design"
description: "Zod ìŠ¤í‚¤ë§ˆ ê²¬ê³ í•˜ê²Œ ì„¤ê³„í•˜ëŠ” ë²•"
date: "2025-08-11"
tags: ["zod", "schema","typescript"]
draft: false
---

ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ ì œê°€ ëª‡ ë‹¬ê°„ TypeScript í”„ë¡œì íŠ¸ì—ì„œ Zodë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ê²ªì—ˆë˜ ì‹œí–‰ì°©ì˜¤ë“¤ê³¼, ê·¸ ê³¼ì •ì—ì„œ í„°ë“í•œ ê²¬ê³ í•œ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë…¸í•˜ìš°ë¥¼ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

ì²˜ìŒ Zodë¥¼ ì ‘í–ˆì„ ë•ŒëŠ” "ì•„, ì´ê±° ê·¸ëƒ¥ íƒ€ì… ì²´í¬ë§Œ í•˜ëŠ” ê±°êµ¬ë‚˜" ì •ë„ë¡œ ìƒê°í–ˆëŠ”ë°ìš”. ì‹¤ì œë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ë‹¤ ë³´ë‹ˆ ì˜ˆìƒì¹˜ ëª»í•œ ë°ì´í„° ë•Œë¬¸ì— ì•±ì´ í„°ì§€ëŠ” ê²½ìš°ê°€ ì •ë§ ë§ë”ë¼ê³ ìš”. íŠ¹íˆ ì™¸ë¶€ APIë¥¼ ì—°ë™í•˜ê±°ë‚˜ ì‚¬ìš©ì ì…ë ¥ì„ ì²˜ë¦¬í•  ë•Œ ë§ì´ì£ .

ê·¸ë˜ì„œ ì˜¤ëŠ˜ì€ ì œê°€ ì‹¤ë¬´ì—ì„œ ë°°ìš´, **ì§„ì§œ ê²¬ê³ í•œ Zod ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“œëŠ” ë°©ë²•**ë“¤ì„ ì°¨ê·¼ì°¨ê·¼ ì„¤ëª…í•´ë“œë¦´ê²Œìš”!

## 1. ë°©ì–´ì  íŒŒì‹±: ì˜ˆìƒí•˜ì§€ ëª»í•œ ê²ƒë“¤ì„ ì˜ˆìƒí•˜ê¸°

ì²˜ìŒì— ì €ë„ ì´ëŸ° ì‹¤ìˆ˜ë¥¼ ë§ì´ í–ˆì–´ìš”. ëª¨ë“  í•„ë“œë¥¼ í•„ìˆ˜ë¡œ ë§Œë“¤ì–´ë†“ê³ , ë‚˜ì¤‘ì— API ì‘ë‹µì—ì„œ ì¼ë¶€ í•„ë“œê°€ ì—†ì–´ì„œ ì•±ì´ í¬ë˜ì‹œ ë‚˜ëŠ” ê²½ìš° ë§ì´ì£ .

```typescript
// âŒ ì´ˆê¸°ì— ì œê°€ ì§°ë˜ ë„ˆë¬´ ì—„ê²©í•œ ìŠ¤í‚¤ë§ˆ
const userSchema = z.object({
  id: z.string(),
  name: z.string(),
  email: z.string().email(),
  avatar: z.string().url(), // ì´ê²Œ ì—†ìœ¼ë©´ í„°ì ¸ìš”!
  preferences: z.object({
    theme: z.string(),
    notifications: z.boolean(),
  }), // ì´ê²ƒë„ ì—†ìœ¼ë©´ í„°ì ¸ìš”!
})
```

ì´ë ‡ê²Œ í•˜ë©´ APIì—ì„œ `avatar`ë‚˜ `preferences`ê°€ ì—†ì„ ë•Œ ë°”ë¡œ ì—ëŸ¬ê°€ ë‚˜ë”ë¼ê³ ìš”. ê·¸ë˜ì„œ ì§€ê¸ˆì€ ì´ë ‡ê²Œ ë°”ê¿¨ìŠµë‹ˆë‹¤:

```typescript
// âœ… í˜„ì¬ ì œê°€ ì‚¬ìš©í•˜ëŠ” ë°©ì–´ì  ìŠ¤í‚¤ë§ˆ
const userSchema = z.object({
  id: z.string(),
  name: z.string(),
  email: z.string().email(),
  // ì¤‘ìš”í•˜ì§€ ì•Šì€ í•„ë“œë“¤ì€ optionalë¡œ!
  avatar: z.string().url().optional(),
  preferences: z.object({
    theme: z.string().default('light'),
    notifications: z.boolean().default(true),
  }).optional(),
})
```

ì´ë ‡ê²Œ í•˜ë‹ˆê¹Œ í›¨ì”¬ ì•ˆì •ì ì´ë”ë¼ê³ ìš”. í•„ìˆ˜ì ì¸ ë°ì´í„°ë§Œ ê°•ì œí•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ìœ ì—°í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ê²Œ í•µì‹¬ì…ë‹ˆë‹¤.

## 2. ê¸°ë³¸ê°’ í™œìš©í•˜ê¸°: ì„¤ì •ì˜ ë§ˆë²•

ì„¤ì • ê´€ë ¨ ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“¤ ë•Œ íŠ¹íˆ ìœ ìš©í•œ íŒì¸ë°ìš”, ê¸°ë³¸ê°’ì„ ì˜ í™œìš©í•˜ë©´ ì •ë§ ê²¬ê³ í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.

```typescript
const configSchema = z.object({
  retries: z.number().int().min(0).default(3),
  timeout: z.number().positive().default(5000),
  enabled: z.boolean().default(true),
  logLevel: z.enum(['debug', 'info', 'warn', 'error']).default('info'),
})

// ì‚¬ìš©í•  ë•ŒëŠ” ì´ë ‡ê²Œ!
const config = configSchema.parse({}) // ëª¨ë“  ê¸°ë³¸ê°’ì´ ì ìš©ë¨
console.log(config.retries) // 3
```

ì´ë ‡ê²Œ í•˜ë©´ ì„¤ì • íŒŒì¼ì´ ë¹„ì–´ìˆê±°ë‚˜ ì¼ë¶€ ì„¤ì •ì´ ì—†ì–´ë„ ì•±ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•´ìš”. ì •ë§ í¸ë¦¬í•˜ì£ !

## 3. ë°ì´í„° ë³€í™˜ê³¼ ì •ì œ: ë”ëŸ¬ìš´ ë°ì´í„°ë¥¼ ê¹”ë”í•˜ê²Œ

ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì •ë§ ë‹¤ì–‘í•œ í˜•íƒœì˜ ë°ì´í„°ê°€ ë“¤ì–´ì™€ìš”. íŠ¹íˆ ì‚¬ìš©ì ì…ë ¥ì´ë‚˜ ì™¸ë¶€ APIì—ì„œ ì˜¤ëŠ” ë°ì´í„°ëŠ” ì˜ˆì¸¡ë¶ˆê°€ëŠ¥í•˜ì£ .

```typescript
// ì‹¤ì œë¡œ ê²ªì—ˆë˜ ì¼€ì´ìŠ¤ë“¤ì„ ë°˜ì˜í•œ ìŠ¤í‚¤ë§ˆ
const apiSchema = z.object({
  // ë¬¸ìì—´ë¡œ ì˜¨ ìˆ«ìë¥¼ ìë™ ë³€í™˜
  page: z.coerce.number().int().min(1).default(1),
  limit: z.coerce.number().int().min(1).max(100).default(20),
  // "true", "false" ë¬¸ìì—´ë„ booleanìœ¼ë¡œ ë³€í™˜
  active: z.coerce.boolean().default(true),
})

// ì´ë©”ì¼ ì •ì œ ì˜ˆì‹œ (ì •ë§ ìœ ìš©í•´ìš”!)
const emailSchema = z.string()
  .trim() // ì•ë’¤ ê³µë°± ì œê±°
  .toLowerCase() // ì†Œë¬¸ìë¡œ ë³€í™˜
  .email()
  .transform(email => {
    // Gmailì˜ +alias ì œê±° (ì„ íƒì‚¬í•­)
    return email.replace(/\+.*@/, '@')
  })
```

ì´ëŸ° ë³€í™˜ ë¡œì§ì„ ë„£ì–´ë‘ë©´ ì •ë§ ë§ì€ ì—£ì§€ì¼€ì´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”. íŠ¹íˆ ì´ë©”ì¼ ì²˜ë¦¬ëŠ” ì •ë§ ì¶”ì²œë“œë¦½ë‹ˆë‹¤!

## 4. ë¯¸ì§€ì˜ í•„ë“œ ì²˜ë¦¬í•˜ê¸°: ì§„í™”í•˜ëŠ” API ëŒ€ì‘ë²•

APIê°€ ì—…ë°ì´íŠ¸ë˜ë©´ì„œ ìƒˆë¡œìš´ í•„ë“œê°€ ì¶”ê°€ë˜ëŠ” ê²½ìš°ê°€ ì •ë§ ë§ì£ . ì´ëŸ° ìƒí™©ì— ëŒ€ë¹„í•˜ëŠ” ë°©ë²•ë„ ì¤‘ìš”í•´ìš”.

```typescript
// ìƒˆë¡œìš´ í•„ë“œê°€ ì¶”ê°€ë˜ì–´ë„ ê´œì°®ì€ ìŠ¤í‚¤ë§ˆ
const apiResponseSchema = z.object({
  id: z.string(),
  name: z.string(),
  email: z.string().email(),
}).passthrough() // ì•Œë ¤ì§€ì§€ ì•Šì€ í•„ë“œë„ í†µê³¼ì‹œí‚´

// ë°˜ëŒ€ë¡œ ë³´ì•ˆì´ ì¤‘ìš”í•œ ì‚¬ìš©ì ì…ë ¥ì€ ì—„ê²©í•˜ê²Œ
const userInputSchema = z.object({
  name: z.string(),
  email: z.string().email(),
}).strict() // ì¶”ê°€ í•„ë“œê°€ ìˆìœ¼ë©´ ì—ëŸ¬
```

ì €ëŠ” ì™¸ë¶€ API ì‘ë‹µì—ëŠ” `passthrough()`ë¥¼, ì‚¬ìš©ì ì…ë ¥ì—ëŠ” `strict()`ë¥¼ ì‚¬ìš©í•´ìš”. ë³´ì•ˆê³¼ ìœ ì—°ì„±ì˜ ê· í˜•ì„ ë§ì¶”ëŠ” ê±°ì£ .

## 5. ìŠ¤í‚¤ë§ˆ ì¡°í•©í•˜ê¸°: ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”

í”„ë¡œì íŠ¸ê°€ ì»¤ì§ˆìˆ˜ë¡ ë¹„ìŠ·í•œ ìŠ¤í‚¤ë§ˆë¥¼ ê³„ì† ë§Œë“¤ê²Œ ë˜ë”ë¼ê³ ìš”. ê·¸ë˜ì„œ ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“¤ì–´ì„œ ì¬ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì„ ì‚¬ìš©í•´ìš”.

```typescript
// ëª¨ë“  ì—”í‹°í‹°ì˜ ê¸°ë³¸ êµ¬ì¡°
const baseEntitySchema = z.object({
  id: z.string().uuid(),
  createdAt: z.string().datetime(),
  updatedAt: z.string().datetime(),
})

// ì‚¬ìš©ì ìŠ¤í‚¤ë§ˆëŠ” ë² ì´ìŠ¤ë¥¼ í™•ì¥
const userSchema = baseEntitySchema.extend({
  name: z.string().min(1, 'ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'),
  email: z.string().email('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'),
  role: z.enum(['user', 'admin']).default('user'),
})

// ê²Œì‹œê¸€ ìŠ¤í‚¤ë§ˆë„ ë§ˆì°¬ê°€ì§€
const postSchema = baseEntitySchema.extend({
  title: z.string().min(1),
  content: z.string(),
  authorId: z.string().uuid(),
})
```

ì´ë ‡ê²Œ í•˜ë©´ ì½”ë“œ ì¤‘ë³µë„ ì¤„ì´ê³ , ì¼ê´€ì„±ë„ ìœ ì§€í•  ìˆ˜ ìˆì–´ì„œ ì •ë§ ì¢‹ì•„ìš”!

## 6. ë‹¤í˜•ì„± ë°ì´í„° ì²˜ë¦¬: discriminated unionì˜ í˜

ì´ë²¤íŠ¸ë‚˜ ì•Œë¦¼ ê°™ì€ ë‹¤ì–‘í•œ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ ì •ë§ ìœ ìš©í•œ íŒ¨í„´ì´ì—ìš”.

```typescript
const eventSchema = z.discriminatedUnion('type', [
  z.object({
    type: z.literal('user_created'),
    userId: z.string(),
    email: z.string().email(),
    registrationSource: z.string(),
  }),
  z.object({
    type: z.literal('order_placed'),
    orderId: z.string(),
    amount: z.number().positive(),
    currency: z.string().length(3),
  }),
  z.object({
    type: z.literal('payment_failed'),
    orderId: z.string(),
    errorCode: z.string(),
    retryCount: z.number().int().min(0),
  }),
])

// TypeScriptê°€ ìë™ìœ¼ë¡œ íƒ€ì…ì„ ì¢í˜€ì¤˜ìš”!
function handleEvent(event: z.infer<typeof eventSchema>) {
  switch (event.type) {
    case 'user_created':
      // ì—¬ê¸°ì„œëŠ” userId, email ë“±ì— ì ‘ê·¼ ê°€ëŠ¥
      console.log(`ìƒˆ ì‚¬ìš©ì: ${event.email}`)
      break
    case 'order_placed':
      // ì—¬ê¸°ì„œëŠ” orderId, amount ë“±ì— ì ‘ê·¼ ê°€ëŠ¥
      console.log(`ì£¼ë¬¸ ì™„ë£Œ: ${event.amount}`)
      break
    // ...
  }
}
```

## 7. ë¶€ë¶„ ì—…ë°ì´íŠ¸ íŒ¨í„´: CRUDì˜ ì™„ì„±

CRUD ì‘ì—…ì„ í•  ë•Œ ìƒì„±ê³¼ ìˆ˜ì •ì—ì„œ ê°™ì€ ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ê°€ ë§ì£ . ì´ëŸ° íŒ¨í„´ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”:

```typescript
// ìƒì„±í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì™„ì „í•œ ìŠ¤í‚¤ë§ˆ
const createUserSchema = z.object({
  name: z.string().min(1, 'ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'),
  email: z.string().email('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'),
  role: z.enum(['user', 'admin']),
  department: z.string().min(1),
})

// ìˆ˜ì •í•  ë•ŒëŠ” ëª¨ë“  í•„ë“œë¥¼ ì„ íƒì ìœ¼ë¡œ
const updateUserSchema = createUserSchema.partial()

// ë” ì„¸ë°€í•œ ì œì–´ê°€ í•„ìš”í•˜ë‹¤ë©´
const updateUserSchema2 = z.object({
  name: z.string().min(1).optional(),
  email: z.string().email().optional(),
  // roleì€ ìˆ˜ì • ë¶ˆê°€
  department: z.string().min(1).optional(),
})
```

## 8. ë³µì¡í•œ ìœ íš¨ì„± ê²€ì‚¬: refineì˜ í™œìš©

ë•Œë¡œëŠ” ë‹¨ìˆœí•œ íƒ€ì… ì²´í¬ë¡œëŠ” ë¶€ì¡±í•œ ê²½ìš°ê°€ ìˆì–´ìš”. ë¹„ë°€ë²ˆí˜¸ ì •ì±…ì´ë‚˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦ ê°™ì€ ê²½ìš° ë§ì´ì£ .

```typescript
const passwordSchema = z.string()
  .min(8, 'ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤')
  .refine(pwd => /[A-Z]/.test(pwd), {
    message: 'ëŒ€ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤'
  })
  .refine(pwd => /[a-z]/.test(pwd), {
    message: 'ì†Œë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤'
  })
  .refine(pwd => /[0-9]/.test(pwd), {
    message: 'ìˆ«ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤'
  })
  .refine(pwd => /[^A-Za-z0-9]/.test(pwd), {
    message: 'íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤'
  })

// ë³µí•© ì¡°ê±´ ê²€ì¦ë„ ê°€ëŠ¥í•´ìš”
const userRegistrationSchema = z.object({
  username: z.string().min(3),
  email: z.string().email(),
  password: passwordSchema,
  confirmPassword: z.string(),
}).refine(data => data.password === data.confirmPassword, {
  message: 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤',
  path: ['confirmPassword'], // ì—ëŸ¬ê°€ í‘œì‹œë  í•„ë“œ ì§€ì •
})
```

## 9. ì•ˆì „í•œ íŒŒì‹±: safeParseì˜ í˜„ëª…í•œ í™œìš©

ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” íŒŒì‹±ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤ëŠ” ê±¸ í•­ìƒ ì—¼ë‘ì— ë‘ì–´ì•¼ í•´ìš”. `safeParse()`ë¥¼ í™œìš©í•œ ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´ì„ ì†Œê°œí• ê²Œìš”.

```typescript
const parseUserSafely = (data: unknown) => {
  const result = userSchema.safeParse(data)
  
  if (!result.success) {
    // ë¡œê¹…ì„ ìœ„í•œ ìƒì„¸ ì—ëŸ¬ ì •ë³´
    console.error('ì‚¬ìš©ì ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', {
      errors: result.error.format(),
      receivedData: data,
      timestamp: new Date().toISOString(),
    })
    
    // ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì— ì•Œë¦¼ (Sentry, DataDog ë“±)
    // reportError('USER_PARSE_FAILURE', result.error)
    
    // ê¸°ë³¸ê°’ ë°˜í™˜ ë˜ëŠ” null ë°˜í™˜
    return null
  }
  
  return result.data
}

// í´ë°± ì „ëµì´ ìˆëŠ” ë²„ì „
const parseUserWithFallback = (data: unknown) => {
  const fullResult = userSchema.safeParse(data)
  if (fullResult.success) return fullResult.data
  
  // ìµœì†Œí•œì˜ ë°ì´í„°ë¡œ í´ë°±
  const minimalSchema = z.object({
    id: z.string(),
    name: z.string(),
  })
  
  const minimalResult = minimalSchema.safeParse(data)
  if (minimalResult.success) {
    return {
      ...minimalResult.data,
      email: '', // ê¸°ë³¸ê°’ ì œê³µ
      role: 'user' as const,
      preferences: {},
    }
  }
  
  throw new Error('ì‚¬ìš©ì ë°ì´í„°ë¥¼ íŒŒì‹±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤')
}
```

## 10. ìŠ¤í‚¤ë§ˆ ë²„ì „ ê´€ë¦¬: ì§„í™”í•˜ëŠ” ë°ì´í„° êµ¬ì¡°

ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ìŠ¤í‚¤ë§ˆê°€ ë³€ê²½ë˜ëŠ” ê±´ í”¼í•  ìˆ˜ ì—†ì–´ìš”. ì´ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ê²Œìš”.

```typescript
// ë²„ì „ë³„ ìŠ¤í‚¤ë§ˆ ê´€ë¦¬
const userSchemaV1 = z.object({
  name: z.string(),
  email: z.string().email(),
})

const userSchemaV2 = userSchemaV1.extend({
  preferences: z.object({
    theme: z.enum(['light', 'dark']).default('light'),
    notifications: z.boolean().default(true),
  }).optional(),
})

const userSchemaV3 = userSchemaV2.extend({
  profile: z.object({
    bio: z.string().optional(),
    website: z.string().url().optional(),
  }).optional(),
})

// ë²„ì „ì— ë”°ë¥¸ íŒŒì‹±
const parseUser = (data: unknown, version: number = 3) => {
  switch (version) {
    case 1: return userSchemaV1.parse(data)
    case 2: return userSchemaV2.parse(data)
    case 3: return userSchemaV3.parse(data)
    default: return userSchemaV3.parse(data)
  }
}

// ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§ í¬í•¨
const migratedUserSchema = z.preprocess((data: any) => {
  // V1ì—ì„œ V2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
  if (data.fullName && !data.name) {
    data.name = data.fullName
    delete data.fullName
  }
  
  // V2ì—ì„œ V3ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
  if (data.bio && !data.profile) {
    data.profile = { bio: data.bio }
    delete data.bio
  }
  
  return data
}, userSchemaV3)
```

## ë§ˆë¬´ë¦¬: ì‹¤ì „ íŒë“¤

ì§€ê¸ˆê¹Œì§€ ì œê°€ ì‹¤ë¬´ì—ì„œ í„°ë“í•œ Zod ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë…¸í•˜ìš°ë“¤ì„ ê³µìœ í–ˆëŠ”ë°ìš”, ë§ˆì§€ë§‰ìœ¼ë¡œ ëª‡ ê°€ì§€ ì¶”ê°€ íŒì„ ë“œë¦´ê²Œìš”:

### í…ŒìŠ¤íŠ¸ëŠ” í•„ìˆ˜

ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“¤ì—ˆìœ¼ë©´ ë°˜ë“œì‹œ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”:

- ì •ìƒ ë°ì´í„°
- ì˜ëª»ëœ ë°ì´í„°
- ì—£ì§€ì¼€ì´ìŠ¤ (ë¹ˆ ë¬¸ìì—´, null, undefined)
- ì˜ˆìƒì¹˜ ëª»í•œ ì¶”ê°€ í•„ë“œ
- ë¯¸ë˜ì˜ ë°ì´í„° êµ¬ì¡°

### ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´í™”

ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ì—ëŸ¬ë¼ë©´ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•´ìš”:

```typescript
const userSchema = z.object({
  email: z.string().email('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'),
  age: z.number().min(18, 'ë§Œ 18ì„¸ ì´ìƒë§Œ ê°€ì… ê°€ëŠ¥í•©ë‹ˆë‹¤'),
})
```

### ì„±ëŠ¥ë„ ê³ ë ¤í•˜ê¸°

ë„ˆë¬´ ë³µì¡í•œ refine ë¡œì§ì€ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆì–´ìš”. ì •ë§ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.

### ë¬¸ì„œí™”í•˜ê¸°

ë³µì¡í•œ ìŠ¤í‚¤ë§ˆëŠ” ì£¼ì„ìœ¼ë¡œ ì˜ë„ë¥¼ ëª…í™•íˆ í•´ë‘ì„¸ìš”:

```typescript
const orderSchema = z.object({
  // ì£¼ë¬¸ ID - UUID v4 í˜•ì‹
  id: z.string().uuid(),
  // ê²°ì œ ê¸ˆì•¡ - ì›í™” ê¸°ì¤€, ì†Œìˆ˜ì  ë¶ˆí—ˆ
  amount: z.number().int().positive(),
  // ì£¼ë¬¸ ìƒíƒœ - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë”°ë¼ ì œí•œë¨
  status: z.enum(['pending', 'confirmed', 'shipped', 'delivered', 'cancelled']),
})
```

ì´ë ‡ê²Œ ê²¬ê³ í•œ Zod ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“¤ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ë„ ì¤„ì´ê³ , ê°œë°œì ê²½í—˜ë„ í›¨ì”¬ ì¢‹ì•„ì ¸ìš”. ì²˜ìŒì—ëŠ” ì¡°ê¸ˆ ë²ˆê±°ë¡œì›Œ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, í•œ ë²ˆ ìŠµê´€ì´ ë˜ë©´ ì •ë§ ë“ ë“ í•œ ì•ˆì „ë§ì´ ë˜ì–´ì¤„ ê±°ì˜ˆìš”.

ì—¬ëŸ¬ë¶„ë„ ì´ëŸ° íŒ¨í„´ë“¤ì„ í™œìš©í•´ì„œ ë” ì•ˆì •ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”! í˜¹ì‹œ ë‹¤ë¥¸ ì¢‹ì€ íŒì´ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ê³µìœ í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ğŸ˜Š
